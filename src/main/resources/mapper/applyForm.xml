<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="applyForm">

    <select id="selectCarrierList" resultType="com.suaninc.newsagency.domain.CommonCode">
		SELECT
            cc.code_value AS codeValue,
            cc.code_name AS codeName,
            cc.code_description AS codeDescription
        FROM common_code cc
        INNER JOIN common_code ccp
        ON ccp.code_id = cc.parent_code_id
        WHERE ccp.code_value = 'MOBILE_CARRIER'
    </select>
    
<<<<<<< HEAD
    <select id="selectCarrierPlan"  parameterType="com.suaninc.newsagency.domain.TemplateCoordinate" resultType="com.suaninc.newsagency.domain.CarrierPlan">
=======
    <select id="selectCarrierPlanList"  parameterType="com.suaninc.newsagency.domain.TemplateCoordinate" resultType="com.suaninc.newsagency.domain.CarrierPlan">
>>>>>>> 6d971a4cc491035c9e57842d3fa3e8643b8f5651
		SELECT
			carrier_plan_id AS carrierPlanId,
			template_code AS templateCode,
			carrier_plan_name AS carrierPlanName,
			mobile_carrier AS mobileCarrier,
			monthly_billing_amt AS monthlyBillingAmt,
			basic_amt AS basicAmt,
			discount_amt AS discountAmt,
			voice_call AS voiceCall,
			mobile_data AS mobileData,
			mobile_qos AS mobileQos,
			mobile_message AS mobileMessage,
			registered_datetime AS registeredDatetime
		FROM
			carrier_plan cp
<<<<<<< HEAD
	    <where>
	        <if test="templateCode != null and templateCode != ''">
	            template_code = #{templateCode}
	        </if>
	    </where>
		ORDER BY carrier_plan_id
=======
		WHERE
			template_code = #{templateCode}
		ORDER BY
			carrier_plan_id
>>>>>>> 6d971a4cc491035c9e57842d3fa3e8643b8f5651
    </select>
    
    <select id="selectCarrierTemplate"  parameterType="com.suaninc.newsagency.domain.TemplateCoordinate" resultType="com.suaninc.newsagency.domain.CarrierTemplate">
		SELECT
			ct.carrier_template_id AS carrierTemplateId,
			ct.template_code AS templateCode,
			ct.template_image_order AS templateImageOrder,
			ct.template_image_path AS templateImagePath,
			ct.template_image_name AS templateImageName,
			ct.registered_datetime AS registeredDatetime
		FROM 
			carrier_template ct
		WHERE
			ct.template_code = #{templateCode}
		ORDER BY ct.template_image_order asc
    </select>
    
    <select id="selectTemplateCoordinateList"  parameterType="com.suaninc.newsagency.domain.CarrierTemplate" resultType="com.suaninc.newsagency.domain.TemplateCoordinate">
		SELECT
			template_coordinate_id AS templateCoordinateId,
			template_code AS templateCode,
			template_image_order AS templateImageOrder,
			template_coordinate_name AS templateCoordinateName,
			template_input_type AS templateInputType,
			template_input_option AS templateInputOption,
			font_style AS fontStyle,
			font_size AS fontSize,
			coordinate_x_axis AS coordinateXAxis,
			coordinate_y_axis AS coordinateYAxis,
			registered_datetime AS registeredDatetime
		FROM 
			template_coordinate tc
		WHERE
			tc.template_code = #{templateCode}
		AND tc.template_image_order = #{templateImageOrder}
    </select>

</mapper>
